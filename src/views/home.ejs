<html>

<head>
    <title>Exploring A-Frame</title>
    <link rel="shortcut icon" type="image/x-icon" href="/img/background/icon.svg" />
    <meta charset="UTF-8">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">

    <link href="/css/font-awesome.css" rel="stylesheet" type="text/css" />
    <link href="/css/handle.css" rel="stylesheet" type="text/css" />
    <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="/js/aframe.min_1.js" type="text/javascript"></script>
    <!-- <script src="https://aframe.io/releases/0.4.0/aframe.min.js"></script> -->

    <script src="/js/animal-component.js"></script>
    <script src="/js/aframe-mouse-cursor-component.min.js" type="text/javascript"></script>


</head>

<body cursor-listener>
    <a-scene inspector="url: https://aframe.io/releases/0.3.0/aframe-inspector.min.js">

        <!--start code button -->
            <div class="container menu_top"> 
                <button id="add_animal_btn" class="btn-primary"><i class="fa fa-plus-square-o fa-2x" aria-hidden="true"></i></button>
                <div class="text-center control_btn">
                    <i id="b1" class="fa fa-image fa-2x"></i>
                    <i id="b-plus" class="fa fa-search-plus fa-2x"></i>
                    <i id="b-minus" class="fa fa-search-minus fa-2x"></i>
                    <i id="b-left" class="fa fa-arrow-left fa-2x"></i>
                    <i id="b-up" class="fa fa-arrow-up fa-2x"></i>
                    <i id="b-down" class="fa fa-arrow-down fa-2x"></i>
                    <i id="b-right" class="fa fa-arrow-right fa-2x"></i>
                    <i id="b-full" class="fa fa-arrows-alt fa-2x"></i>
                    <i id="b-initial" class="fa fa-undo fa-2x"></i>
                    <i class="music_btn">
                        <i id="music_play" class="fa fa-play fa-2x"></i>
                        <i id="music_pause" class="fa fa-pause fa-2x"></i>
                    </i>
                    <i id="menu" class="fa fa-bars fa-2x" data-toggle="modal" data-target="#myMap"></i>
                </div>
            </div>
        <!-- end code button -->

        <!-- start add animal button -->
       
        <div id="action_menu">
            <div class="row col-sm-1 custyle">
                <table id="animal_list" class="table table-striped custab">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>2D</th>
                            <th>3D</th>
                        </tr>
                    </thead>
                    <tr>
                        <td>Add News</td>
                        <td><a  id="add_new_2d" class='btn btn-info btn-xs' href="#">ADD</a></td>
                        <td><a href="#" id="add_new_3d"" class="btn btn-danger btn-xs">ADD</a></td>
                    </tr>
                    <tr>
                        <td>Lion</td>
                        <td><a id="add_lion_2d" class='btn btn-info btn-xs' href="#">ADD</a></td>
                        <td><a href="#" id="add_lion_3d" class="btn btn-danger btn-xs">ADD</a></td>
                    </tr>
                    <tr>
                        <td>Elephant</td>
                        <td><a class='btn btn-info btn-xs' href="#">ADD</a></td>
                        <td><a href="#" class="btn btn-danger btn-xs">ADD</a></td>
                    </tr>
                    <tr>
                        <td>Deer</td>
                        <td><a class='btn btn-info btn-xs' href="#">ADD</a></td>
                        <td><a href="#" class="btn btn-danger btn-xs">ADD</a></td>
                    </tr>
                    <tr>
                        <td>Hippo</td>
                        <td><a class='btn btn-info btn-xs' href="#">ADD</a></td>
                        <td><a href="#" class="btn btn-danger btn-xs">ADD</a></td>
                    </tr>
                    <tr>
                        <td>Giraffe</td>
                        <td><a class='btn btn-info btn-xs' href="#">ADD</a></td>
                        <td><a href="#" class="btn btn-danger btn-xs">ADD</a></td>
                    </tr>

                </table>
            </div>
        </div>
        <!-- end add animal button -->
        <!--        image thumbnails-->
        <div class="thumbnails">
            <div id="thumbnail_image">
                <img id="thumb-gate" class="img-thumbnail text-center " src="/img/zoo/gate_thumb.jpg" width="16%"
                    height="100%" alt="street_thumbnail" title="gate">
                <img id="thumb-inside_gate" class="img-thumbnail text-center " src="/img/zoo/inside_gate_thumb.jpg"
                    width="16%" height="100%" alt="palor_thumbnail" title="inside gate">
                <img id="thumb-step_inside_gate" class="img-thumbnail text-center " src="/img/zoo/step_inside_gate_thumb.jpg"
                    width="16%" height="100%" alt="lounge_thumbnail" title="step inside gate">
                <img id="thumb-intersection" class="img-thumbnail text-center " src="/img/zoo/intersection_thumb.jpg"
                    width="16%" height="100%" alt="corridor_thumbnail" title="intersection">
                <img id="thumb-first_case" class="img-thumbnail text-center " src="/img/zoo/first_case_thumb.jpg" width="16%"
                    height="100%" alt="street_thumbnail" title="first case">
                <img id="thumb-butterfly" class="img-thumbnail text-center " src="/img/zoo/butterfly_thumb.jpg" width="16%"
                    height="100%" alt="street_thumbnail" title="butterfly">
            </div>
        </div>

        <!--end image thumbnails-->
        <a-assets>
            <a-panorama id="gate" src="/img/zoo/gate.jpg" alt=""></a-panorama>
            <a-panorama id="inside_gate" src="/img/zoo/inside_gate.jpg" alt=""></a-panorama>
            <a-panorama id="step_inside_gate" src="/img/zoo/step_inside_gate.jpg" alt=""></a-panorama>
            <a-panorama id="intersection" src="/img/zoo/intersection.jpg" alt=""></a-panorama>
            <a-panorama id="first_case" src="/img/zoo/first_case.jpg" alt=""></a-panorama>
            <a-panorama id="butterfly" src="img/zoo/butterfly.jpg" alt=""></a-panorama>
            <!--            object 1-->
            <a-asset-item id="deer11" src="obj/deer.obj"></a-asset-item>
            <a-asset-item id="deer11-material" src="obj/deer.mtl"></a-asset-item>
            <a-asset-item id="deer22" src="obj/deer1.obj"></a-asset-item>
            <a-asset-item id="deer22-material" src="obj/deer1.mtl"></a-asset-item>

            <img id="arrow" src="img/zoo/left.png" alt="">

            <audio id="entire" src="audio/Entire.mp3"></audio>

            <img id="lion_image" src="img/lion_cc.png" />
            <img id="deer_image" src="img/deer_cc.png" />
        </a-assets>
        <a-sky id="bg" widtd="100%" height="50%" src="#gate"></a-sky>

        <a-entity id="nhac" sound="src: #entire; autoplay: false; loop:true"></a-entity>

        <!--        button to change scene-->
        <!-- note position  x - left, y - down, z : - far  -->
        <a-image id="gatebtn" height="12" width="56" src="#arrow" position="5 -1 -1" rotation="10 18 180" scale="0.1 0.1 0.1"
            opacity="0.5" visible="false">
            <a-mouseenter opacity="1"></a-mouseenter>
            <a-mouseleave opacity="0.5"></a-mouseleave>
        </a-image>
        <a-image id="inside_gatebtn" height="12" width="56" src="#arrow" position="-4 -1 -1" rotation="0 -1 2" scale="0.1 0.1 0.1"
            opacity="0.5" visible="true" style="z-index: 1">
            <a-mouseenter opacity="1"></a-mouseenter>
            <a-mouseleave opacity="0.5"></a-mouseleave>
        </a-image>
        <a-image id="step_inside_gatebtn" height="12" width="56" src="#arrow" position="-11 0 -6" rotation="180 0 180"
            scale="0.1 0.1 0.1" opacity="0.5" visible="false">
            <a-mouseenter opacity="1"></a-mouseenter>
            <a-mouseleave opacity="0.5"></a-mouseleave>
        </a-image>
        <a-image id="intersectionbtn" height="12" width="56" src="#arrow" position="-6 0 0" rotation="0 14 0" scale="0.1 0.1 0.1"
            opacity="0.5" visible="false">
            <a-mouseenter opacity="1"></a-mouseenter>
            <a-mouseleave opacity="0.5"></a-mouseleave>
        </a-image>
        <a-image id="first_casebtn" height="12" width="56" src="#arrow" position="-6 0 8" rotation="0 190 0" scale="0.1 0.1 0.1"
            opacity="0.5" visible="false">
            <a-mouseenter opacity="1"></a-mouseenter>
            <a-mouseleave opacity="0.5"></a-mouseleave>
        </a-image>
        <a-image id="butterflybtn" height="12" width="56" src="#arrow" position="10 -2 4" rotation="0 200 -10" scale="0.1 0.1 0.1"
            opacity="0.5" visible="false">
            <a-mouseenter opacity="1"></a-mouseenter>
            <a-mouseleave opacity="0.5"></a-mouseleave>
        </a-image>

        <a-entity click-drag position="-1 -1 -2.5">
            <a-obj-model checked="off" visible="false" id="deer2" src="#deer22" mtl="#deer22-material" scale="0.1 0.1 0.1"
                rotation=" 0 -28 0">
            </a-obj-model>
        </a-entity>


        <a-entity click-drag position="-2 -1 -1">
            <a-obj-model checked="off" visible="false" id="deer1" src="#deer11" mtl="#deer11-material" scale="0.1 0.1 0.1"
                rotation=" 0 -40 0">
                <a-animation attribute="scale" begin="mouseenter" to="0.2 0.2 0.2"></a-animation>
                <a-animation attribute="scale" begin="mouseleave" to="0.1 0.1 0.1"></a-animation>
                <a-animation attribute="rotation" begin="click" to=" 0 360 0" dur="1000" direction="alternate-reverse"></a-animation>
            </a-obj-model>
        </a-entity>

        <!-- animal image -->
        <a-image id="lion_img_display" height="12" width="20" src="#lion_image" position="-4 0 2" rotation="0 60 0"
            scale="0.1 0.1 0.1" visible="true">
        </a-image>
        <a-image id="deer_img_display" height="12" width="56" src="#deer_image" position="-6 0 0" rotation="0 14 0"
            scale="0.1 0.1 0.1" visible="true">
        </a-image>

        <!--camera-->
        <a-entity id="camera" position="0 0 0" camera="zoom: 1" look-controls rotation="0 90 0" mouse-cursor>
        </a-entity>

        <a-entity clock="font: sourcecodepro; color: #4149f4; position: -1 1.5 -.75"></a-entity>

    </a-scene>
    <script>


        var deer1 = document.querySelector("#deer1");
        var deer2 = document.querySelector("#deer2");
        var gate = document.querySelector("#gatebtn");
        var inside_gate = document.querySelector("#inside_gatebtn");
        var step_inside_gate = document.querySelector("#step_inside_gatebtn");
        var intersection = document.querySelector("#intersectionbtn");
        var first_case = document.querySelector("#first_casebtn");
        var butterfly = document.querySelector("#butterflybtn");
        var background = document.getElementById("bg");//sky tag
        gate.addEventListener("click", function () {
            console.log("click gate");
            background.setAttribute("src", "#gate");
            this.setAttribute('visible', 'false');

            inside_gate.setAttribute('visible', 'true');
            inside_gate.setAttribute('position', '-4 -1 -1');
            inside_gate.setAttribute('rotation', '0 -7 2');
            step_inside_gate.setAttribute('visible', 'false');
            deer2.setAttribute('visible', 'false');
            deer1.setAttribute('visible', 'false');

        });
        inside_gate.addEventListener("click", function () {
            console.log("click inside gate");
            background.setAttribute("src", "#inside_gate");
            this.setAttribute('visible', 'false');

            gate.setAttribute('visible', 'true');
            step_inside_gate.setAttribute('visible', 'true');
            step_inside_gate.setAttribute('position', '-11 0 -6');
            step_inside_gate.setAttribute('rotation', '180 0 180');
            intersection.setAttribute('visible', 'false');
            deer2.setAttribute('visible', 'true');
            deer1.setAttribute('visible', 'true');

        });
        step_inside_gate.addEventListener("click", function () {
            console.log("click step inside gate");
            background.setAttribute("src", "#step_inside_gate");
            this.setAttribute('visible', 'false');

            inside_gate.setAttribute('visible', 'true');
            inside_gate.setAttribute('position', '7 -1 -1');
            inside_gate.setAttribute('rotation', '0 180 0');
            intersection.setAttribute('visible', 'true');
            intersection.setAttribute('position', '-6 0 0');
            intersection.setAttribute('rotation', '0 14 0');

            gate.setAttribute('visible', 'false');
            first_case.setAttribute('visible', 'false');
            deer2.setAttribute('visible', 'false');
            deer1.setAttribute('visible', 'false');

        });
        intersection.addEventListener("click", function () {
            console.log("click intersection");
            background.setAttribute("src", "#intersection");
            this.setAttribute('visible', 'false');

            first_case.setAttribute('visible', 'true');
            first_case.setAttribute('position', '-6 0 8');//update
            first_case.setAttribute('rotation', '0 190 0');
            step_inside_gate.setAttribute('visible', 'true');//need new position
            step_inside_gate.setAttribute('position', '6 -1 -1');
            step_inside_gate.setAttribute('rotation', '180 0 180');

            butterfly.setAttribute('visible', 'false');
            inside_gate.setAttribute('visible', 'false');
            deer2.setAttribute('visible', 'false');
            deer1.setAttribute('visible', 'false');

        });
        first_case.addEventListener("click", function () {
            console.log("click first case");
            background.setAttribute("src", "#first_case");
            this.setAttribute('visible', 'false');

            intersection.setAttribute('visible', 'true');//update new position for intersection
            intersection.setAttribute('position', '0 -1 6');
            intersection.setAttribute('rotation', '0 100 0');
            butterfly.setAttribute('visible', 'true');

            step_inside_gate.setAttribute('visible', 'false');
            deer2.setAttribute('visible', 'false');
            deer1.setAttribute('visible', 'false');

        });
        butterfly.addEventListener("click", function () {
            console.log("click butterfly");
            background.setAttribute("src", "#butterfly");
            this.setAttribute('visible', 'false');

            intersection.setAttribute('visible', 'false');
            deer2.setAttribute('visible', 'false');
            deer1.setAttribute('visible', 'false');

        });


        // //add object
        // var addBtn = document.getElementById("add");
        // var s = document.querySelector("a-scene");
        // var link = "obj/deer1.obj";
        // var material = "obj/deer1.mtl";
        // addBtn.addEventListener("click", function () {//declare this way to prevent automatic running without click
        //     AddAnimal(link, material);
        // }, false);
        // var animalContain = document.createElement("a-entity");
        // var animal = document.createElement("a-obj-model");
        // function AddAnimal(link, material) {

        //     animalContain.setAttribute("position", {
        //         x: -3,
        //         y: -1,
        //         z: -2.5
        //     });

        //     animal.setAttribute("src", link);
        //     animal.setAttribute("mtl", material);
        //     animal.setAttribute("position", {
        //         x: 1,
        //         y: -2,
        //         z: 1
        //     });
        //     animal.setAttribute("scale", "0.1 0.1 0.1");
        //     animal.setAttribute("id", "deer3");
        //     animal.setAttribute("checked", "off");
        //     animalContain.appendChild(animal);
        //     s.appendChild(animalContain);
        // }

    </script>
    <!-- Modal map -->
    <div id="myMap" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">MAP</h4>
                </div>
                <div class="modal-body">
                    <div id="map">
                        <img id="myImgMap" src="img/thao_cam_vien_map.jpg" />
                        <button class="btn-info" id="lionA">lion</button>
                        <button class="btn-info" id="deerA">deer</button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>

    <!-- display select file input -->
    <div class="display_select_file">
        <input id="file-input" type="file" name="name" style="display: none;" multiple />
    </div>

    <script src="/js/jquery-3.3.1.min.js" type="text/javascript"></script>
    <script src="/js/handleJS.js" type="text/javascript"></script>
    <script src="/js/bootstrap.js" type="text/javascript"></script>


</body>



</body>

</html>
<% if (isDev) { %>
<script src="reload/reload.js"></script>
<% } %>